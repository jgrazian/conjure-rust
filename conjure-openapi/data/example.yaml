openapi: 3.0.1
info:
  title: Schema Example
  description: A collection of schema example types for testing.
  version: 1.0.0
paths:
  /dummy:
    x-service-name: MyDummyService
    get:
      summary: Get a dummy object
      responses:
        "200":
          description: A dummy object
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    description: Test object id
                    type: number
                  name:
                    description: test object name
                    type: string
  /test/{id}:
    x-service-name: MyDummyService
    post:
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: Numeric ID
        - in: query
          name: limit
          schema:
            type: integer
          description: The numbers of items to return
      requestBody:
        content:
          application/json:
            schema:
              type: string
      responses:
        "200":
          description: A dummy object
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    $ref: "#/components/schemas/ObjArray"
                  name:
                    description: test object name
                    type: string
components:
  schemas:
    SimpleString:
      description: String alias
      type: string
      x-safety: do-not-log
    SimpleNumber:
      description: Double alias
      type: number
      x-safety: safe
    SimpleInteger:
      description: Integer alias
      type: integer
      x-safety: unsafe
    SimpleBoolean:
      description: Boolean alias
      type: boolean

    SimpleArray:
      description: Integer array
      type: array
      items:
        type: integer
    NestedArray:
      description: Array of integer arrays
      type: array
      items:
        description: Inner integer array
        type: array
        items:
          type: integer
    ObjArray:
      description: Array of objects
      type: array
      items:
        description: Array object
        type: object
        properties:
          id:
            type: integer
    RefArray:
      description: Array of referenced objects
      type: array
      items:
        $ref: "#/components/schemas/SimpleInteger"

    SimpleObject:
      description: Test object
      type: object
      required:
        - id
        - name
      properties:
        id:
          description: Test object id
          type: number
        name:
          description: test object name
          type: string
        status:
          description: Test object status
          $ref: "#/components/schemas/StatusEnum"
        nestedObject:
          description: Test object extra
          $ref: "#/components/schemas/NestedObject"
    StatusEnum:
      description: Status indicator
      type: string
      enum:
        - ACTIVE
        - INACTIVE
    NestedObject:
      type: object
      properties:
        nested:
          type: object
          properties:
            email:
              type: string
    NestedArrayObject:
      type: object
      properties:
        array:
          type: array
          items:
            $ref: "#/components/schemas/SimpleObject"

    OneOfExample:
      oneOf:
        - $ref: "#/components/schemas/SimpleObject"
        - type: object
          properties:
            option1:
              type: string
        - type: object
          properties:
            option2:
              type: string
